# 行情数据管理功能 - Stories 索引

本目录包含行情数据管理功能的所有实现 stories，按照依赖顺序排列。

## Stories 列表

### 后端基础设施

1. **[STORY-01: 数据库表结构设计与初始化](story-01-database-schema.md)**
   - 优先级: P0
   - 工作量: 4h
   - 依赖: 无
   - 内容: 创建 5 张数据库表（任务、日志、统计、定时配置、定时日志）

2. **[STORY-02: 全景统计分析函数与手动触发分析 API](story-02-analysis-api.md)**
   - 优先级: P0
   - 工作量: 6h
   - 依赖: STORY-01
   - 内容: 数据分析模块、API 端点、幂等性实现

3. **[STORY-03: 统一任务框架（TaskManager）](story-03-task-manager.md)**
   - 优先级: P0
   - 工作量: 8h
   - 依赖: STORY-01
   - 内容: 轻量级任务管理器、任务互斥、进度追踪、日志记录

### 后端核心功能

4. **[STORY-04: 增量更新任务与自动触发分析](story-04-incremental-update.md)**
   - 优先级: P0
   - 工作量: 6h
   - 依赖: STORY-02, STORY-03
   - 内容: 增量更新任务、"当月已最新"检测、自动触发分析

5. **[STORY-05: 全量下载+解压任务与自动触发分析](story-05-full-download.md)**
   - 优先级: P0
   - 工作量: 8h
   - 依赖: STORY-02, STORY-03
   - 内容: 全量下载任务、带进度的下载和解压、失败恢复

6. **[STORY-06: 定时任务配置可视化 API 与日志](story-06-cron-scheduler.md)**
   - 优先级: P1
   - 工作量: 6h
   - 依赖: STORY-03, STORY-04, STORY-05
   - 内容: APScheduler 集成、定时任务调度、日志记录

### 前端实现

7. **[STORY-07: 前端实现：导航入口、3个子页面、进度条与弹框](story-07-frontend.md)**
   - 优先级: P0
   - 工作量: 12h
   - 依赖: STORY-02, STORY-03, STORY-04, STORY-05, STORY-06
   - 内容: 导航集成、数据全景页面、手动下载页面、下载配置页面、进度条组件、确认弹框

### 测试与文档

8. **[STORY-08: 回归测试与文档](story-08-testing-docs.md)**
   - 优先级: P1
   - 工作量: 8h
   - 依赖: STORY-01~07
   - 内容: 非回归测试、集成测试、E2E 测试、用户文档、开发者文档、部署文档

## 实施顺序

### 阶段 1: 基础设施（第1-2周）
1. STORY-01: 数据库表结构
2. STORY-03: 任务管理框架
3. STORY-02: 数据分析功能

### 阶段 2: 核心功能（第3-4周）
4. STORY-04: 增量更新
5. STORY-05: 全量下载
6. STORY-06: 定时任务

### 阶段 3: 前端实现（第5-6周）
7. STORY-07: 前端界面

### 阶段 4: 测试与文档（第7周）
8. STORY-08: 回归测试与文档

## 总工作量估算

- 后端: 38h
- 前端: 12h
- 测试与文档: 8h
- **总计**: 58h (~7-8 个工作日)

## 验收标准

所有 stories 完成后，需满足以下条件：

- [ ] 所有 P0 stories 已完成
- [ ] 所有验收标准已满足
- [ ] 所有测试用例已通过
- [ ] 代码已通过 Code Review
- [ ] 文档已完成并审核
- [ ] 功能已在测试环境验证
- [ ] 准备好生产环境部署

## 相关文档

- [PRD](../prd-market-data-mgmt.md)
- [架构设计](../arch-market-data-mgmt.md)
- [测试计划](../test-plan-market-data-mgmt.md)
- [Product Brief](../brief-market-data-mgmt.md)

## 注意事项

1. 严格按照依赖顺序实施
2. 每个 story 完成后进行单元测试
3. 定期进行集成测试
4. 保持文档与代码同步更新
5. 及时记录技术债务和改进建议
